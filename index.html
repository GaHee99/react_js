<!DOCTYPE html>
<html>
  <body> 
<!--비어있는 div는 ReactDOM이 React Element를 가져다 놓을 곳 */-->
      <div id="root"></div>
  </body>
  <script src = "https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  </script>
<!-- html element를 html body에 붙일때 사용 -->
  <script src = "https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script> 
  <script script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type ="text/babel">
  const root=document.getElementById("root")   
    function MinutesToHours(){
        const [amount, setAmount] = React.useState(0)
        const [invert, setInvert]= React.useState(false)
        const onChange = (event) => {
            //여기서 state를 바꿔주고 있기 때문에 change가 일어나면
            //아래 모든 code rerender
            setAmount(event.target.value)
        }
        const reset = () => setAmount(0)
        //현재의 flip상태와 반대되는 상태로 바꿔준다 
        const onInvert = () => {
            reset()
            setInvert((current) => !current)
        }
        return (
            <div>
            <div>   
                <label htmlFor="minutes">Minutes</label>
                <input 
                value={invert ? amount * 60 : amount}
                id="minutes"
                placeholer="Minutes"
                type="number"
                onChange={onChange}
                disabled = {invert}
                 />
            </div> 
            <div>
                <label htmlFor="hours">Hours</label>
                <input 
                //삼항 연산자 사용
                //만약 flipped 상태라면 state에 있는 값을 그대로 보여줌 
                //flipped상태가 아니라면 변환된 값을 보여준다, 
                 value={invert ? amount : Math.round(amount/60)}
                id="hours"
                placeholer="Hours"
                type="number"
                    //flipped가 false이면 disabled , 
                disabled = {!invert}
                onChange={onChange}
                 />
            </div>
            <button onClick={reset}>Reset</button>
            <button onClick={onInvert}>Invert</button>
            </div>
        )
    }
    
    function KmToMiles(){
        const [amount2, setAmount]=React.useState(0)
        const [invert2, setInvert2]=React.useState(false)
        const onChange = () => {
          setAmount(event.target.value)
        }
        const reset = () => setAmount(0)
        const onInvert= () =>{
            setInvert2(current => !current)
        }
        return (
            <div>
                <label></label>
                <input 
                value={invert2 ?  amount2*1000 : amount2}
                type="number"
                onChange={onChange}
                disabled={invert2}
                placeholer="KM"/>
                <label></label>
                <input 
                value={invert2 ? amount2 : amount2/1000}
                type="number"
                disabled={!invert2}
                onChange={onChange}
                placeholer="Miles"/>
                <button onClick={reset}>Reset</button>
                <button onClick={onInvert}>Invert</button>
            </div>
        )
    }
    
    function App(){
        const [index, setIndex] = React.useState("xx")
        const onSelect = (event) => {
            setIndex(event.target.value)
        }
        return (
            <div>
                <h1>Super Converter</h1>
                <select onChange = {onSelect} value={index}>
                    <option value ="xx" > Select your uint</option>
                    <option value = "0">Minues & Hours </option>
                    <option value= "1">KM & Miles </option>
                </select>
                {index === "0" ? <MinutesToHours/> :null}
                {index === "1" ? <KmToMiles/> :null}
            </div>
        )
    }
  
    ReactDOM.render(<App / >, root)

  </script> 
  </html>